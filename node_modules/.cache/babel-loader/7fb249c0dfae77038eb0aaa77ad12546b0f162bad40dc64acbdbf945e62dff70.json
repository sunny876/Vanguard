{"ast":null,"code":"var _jsxFileName = \"/Users/syedali/POC/Create UI Threadneedle/columbia-threadneedle-demo/src/ui/components/form/input/NumberInput.tsx\",\n  _s = $RefreshSig$();\nimport classNames from \"classnames\";\nimport { forwardRef, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SIZE = [\"m\", \"l\"];\nexport const VuiNumberInput = /*#__PURE__*/_s(/*#__PURE__*/forwardRef(_c = _s(({\n  className,\n  id,\n  max,\n  min,\n  step,\n  value,\n  size = \"m\",\n  onChange,\n  fullWidth,\n  isInvalid,\n  autoFocus,\n  ...rest\n}, ref) => {\n  _s();\n  const [localValue, setLocalValue] = useState(value);\n\n  // This is a hacky solution to the number input misbehaving on Firefox.\n  // If we were to apply the value and onChange values directly to the\n  // value and onChange props of the input, then a user who:\n  //  1. Selects all\n  //  2. Types 1.0\n  // will have the input show \"0\" as soon as they enter a decimal point.\n  // When that character is entered, onChange is called with undefined.\n  // This value gets stored in the value state, which resets the value to 0.\n  // For some reason, using a useState hook to store the value doesn't have\n  // this problem.\n  useEffect(() => {\n    // Reflect the upstream value when it changes. Ignore 0\n    // because that indicates the user has entered a decimal point.\n    if (value !== 0) {\n      setLocalValue(value);\n    }\n  }, [value]);\n\n  // Part of the hacky solution above.\n  useEffect(() => {\n    // Set value locally so an undefined value doesn't reset it to 0.\n    // Pass the value upstream, e.g. so it can be persisted.\n    onChange(localValue !== null && localValue !== void 0 ? localValue : 0);\n  }, [localValue]);\n  const classes = classNames(\"vuiInput\", `vuiInput--${size}`, {\n    \"vuiInput-isInvalid\": isInvalid,\n    \"vuiInput--fullWidth\": fullWidth\n  }, className);\n  const onChangeValue = e => {\n    // Enable resetting the value to undefined.\n    if (e.target.value === \"\") return setLocalValue(undefined);\n    const numberValue = Number(e.target.value);\n    if (isNaN(numberValue)) return setLocalValue(undefined);\n    setLocalValue(Number(e.target.value));\n  };\n  const onBlur = () => {\n    if (min !== undefined && value !== undefined && value < min) onChange(min);\n    if (max !== undefined && value !== undefined && value > max) onChange(max);\n  };\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    autoFocus: autoFocus,\n    ref: ref,\n    type: \"number\",\n    className: classes,\n    id: id,\n    max: max,\n    min: min,\n    step: step,\n    value: localValue !== null && localValue !== void 0 ? localValue : \"\",\n    onChange: onChangeValue,\n    onBlur: onBlur,\n    ...rest\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 7\n  }, this);\n}, \"d+kUoR43C2UbC4Cwtcu8b+qCbtI=\")), \"d+kUoR43C2UbC4Cwtcu8b+qCbtI=\");\n_c2 = VuiNumberInput;\nvar _c, _c2;\n$RefreshReg$(_c, \"VuiNumberInput$forwardRef\");\n$RefreshReg$(_c2, \"VuiNumberInput\");","map":{"version":3,"names":["classNames","forwardRef","useEffect","useState","jsxDEV","_jsxDEV","SIZE","VuiNumberInput","_s","_c","className","id","max","min","step","value","size","onChange","fullWidth","isInvalid","autoFocus","rest","ref","localValue","setLocalValue","classes","onChangeValue","e","target","undefined","numberValue","Number","isNaN","onBlur","type","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["/Users/syedali/POC/Create UI Threadneedle/columbia-threadneedle-demo/src/ui/components/form/input/NumberInput.tsx"],"sourcesContent":["import classNames from \"classnames\";\nimport { forwardRef, useEffect, useState } from \"react\";\n\nconst SIZE = [\"m\", \"l\"] as const;\n\ntype Props = {\n  className?: string;\n  id?: string;\n  isInvalid?: boolean;\n  value?: number;\n  size?: (typeof SIZE)[number];\n  fullWidth?: boolean;\n  onChange: (value?: number) => void;\n  max?: number;\n  min?: number;\n  step?: number;\n  autoFocus?: boolean;\n};\n\nexport const VuiNumberInput = forwardRef<HTMLInputElement | null, Props>(\n  (\n    { className, id, max, min, step, value, size = \"m\", onChange, fullWidth, isInvalid, autoFocus, ...rest }: Props,\n    ref\n  ) => {\n    const [localValue, setLocalValue] = useState<number | undefined>(value);\n\n    // This is a hacky solution to the number input misbehaving on Firefox.\n    // If we were to apply the value and onChange values directly to the\n    // value and onChange props of the input, then a user who:\n    //  1. Selects all\n    //  2. Types 1.0\n    // will have the input show \"0\" as soon as they enter a decimal point.\n    // When that character is entered, onChange is called with undefined.\n    // This value gets stored in the value state, which resets the value to 0.\n    // For some reason, using a useState hook to store the value doesn't have\n    // this problem.\n    useEffect(() => {\n      // Reflect the upstream value when it changes. Ignore 0\n      // because that indicates the user has entered a decimal point.\n      if (value !== 0) {\n        setLocalValue(value);\n      }\n    }, [value]);\n\n    // Part of the hacky solution above.\n    useEffect(() => {\n      // Set value locally so an undefined value doesn't reset it to 0.\n      // Pass the value upstream, e.g. so it can be persisted.\n      onChange(localValue ?? 0);\n    }, [localValue]);\n\n    const classes = classNames(\n      \"vuiInput\",\n      `vuiInput--${size}`,\n      {\n        \"vuiInput-isInvalid\": isInvalid,\n        \"vuiInput--fullWidth\": fullWidth\n      },\n      className\n    );\n\n    const onChangeValue = (e: React.ChangeEvent<HTMLInputElement>) => {\n      // Enable resetting the value to undefined.\n      if (e.target.value === \"\") return setLocalValue(undefined);\n\n      const numberValue = Number(e.target.value);\n      if (isNaN(numberValue)) return setLocalValue(undefined);\n\n      setLocalValue(Number(e.target.value));\n    };\n\n    const onBlur = () => {\n      if (min !== undefined && value !== undefined && value < min) onChange(min);\n      if (max !== undefined && value !== undefined && value > max) onChange(max);\n    };\n\n    return (\n      <input\n        autoFocus={autoFocus}\n        ref={ref}\n        type=\"number\"\n        className={classes}\n        id={id}\n        max={max}\n        min={min}\n        step={step}\n        value={localValue ?? \"\"}\n        onChange={onChangeValue}\n        onBlur={onBlur}\n        {...rest}\n      />\n    );\n  }\n);\n"],"mappings":";;AAAA,OAAOA,UAAU,MAAM,YAAY;AACnC,SAASC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExD,MAAMC,IAAI,GAAG,CAAC,GAAG,EAAE,GAAG,CAAU;AAgBhC,OAAO,MAAMC,cAAc,gBAAAC,EAAA,cAAGP,UAAU,CAAAQ,EAAA,GAAAD,EAAA,CACtC,CACE;EAAEE,SAAS;EAAEC,EAAE;EAAEC,GAAG;EAAEC,GAAG;EAAEC,IAAI;EAAEC,KAAK;EAAEC,IAAI,GAAG,GAAG;EAAEC,QAAQ;EAAEC,SAAS;EAAEC,SAAS;EAAEC,SAAS;EAAE,GAAGC;AAAY,CAAC,EAC/GC,GAAG,KACA;EAAAd,EAAA;EACH,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGrB,QAAQ,CAAqBY,KAAK,CAAC;;EAEvE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAb,SAAS,CAAC,MAAM;IACd;IACA;IACA,IAAIa,KAAK,KAAK,CAAC,EAAE;MACfS,aAAa,CAACT,KAAK,CAAC;IACtB;EACF,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;;EAEX;EACAb,SAAS,CAAC,MAAM;IACd;IACA;IACAe,QAAQ,CAACM,UAAU,aAAVA,UAAU,cAAVA,UAAU,GAAI,CAAC,CAAC;EAC3B,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhB,MAAME,OAAO,GAAGzB,UAAU,CACxB,UAAU,EACV,aAAagB,IAAI,EAAE,EACnB;IACE,oBAAoB,EAAEG,SAAS;IAC/B,qBAAqB,EAAED;EACzB,CAAC,EACDR,SACF,CAAC;EAED,MAAMgB,aAAa,GAAIC,CAAsC,IAAK;IAChE;IACA,IAAIA,CAAC,CAACC,MAAM,CAACb,KAAK,KAAK,EAAE,EAAE,OAAOS,aAAa,CAACK,SAAS,CAAC;IAE1D,MAAMC,WAAW,GAAGC,MAAM,CAACJ,CAAC,CAACC,MAAM,CAACb,KAAK,CAAC;IAC1C,IAAIiB,KAAK,CAACF,WAAW,CAAC,EAAE,OAAON,aAAa,CAACK,SAAS,CAAC;IAEvDL,aAAa,CAACO,MAAM,CAACJ,CAAC,CAACC,MAAM,CAACb,KAAK,CAAC,CAAC;EACvC,CAAC;EAED,MAAMkB,MAAM,GAAGA,CAAA,KAAM;IACnB,IAAIpB,GAAG,KAAKgB,SAAS,IAAId,KAAK,KAAKc,SAAS,IAAId,KAAK,GAAGF,GAAG,EAAEI,QAAQ,CAACJ,GAAG,CAAC;IAC1E,IAAID,GAAG,KAAKiB,SAAS,IAAId,KAAK,KAAKc,SAAS,IAAId,KAAK,GAAGH,GAAG,EAAEK,QAAQ,CAACL,GAAG,CAAC;EAC5E,CAAC;EAED,oBACEP,OAAA;IACEe,SAAS,EAAEA,SAAU;IACrBE,GAAG,EAAEA,GAAI;IACTY,IAAI,EAAC,QAAQ;IACbxB,SAAS,EAAEe,OAAQ;IACnBd,EAAE,EAAEA,EAAG;IACPC,GAAG,EAAEA,GAAI;IACTC,GAAG,EAAEA,GAAI;IACTC,IAAI,EAAEA,IAAK;IACXC,KAAK,EAAEQ,UAAU,aAAVA,UAAU,cAAVA,UAAU,GAAI,EAAG;IACxBN,QAAQ,EAAES,aAAc;IACxBO,MAAM,EAAEA,MAAO;IAAA,GACXZ;EAAI;IAAAc,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AAEN,CAAC,iCACH,CAAC;AAACC,GAAA,GA1EWhC,cAAc;AAAA,IAAAE,EAAA,EAAA8B,GAAA;AAAAC,YAAA,CAAA/B,EAAA;AAAA+B,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}