{"ast":null,"code":"export const applyCitationOrder=(searchResults,unorderedSummary)=>{const orderedSearchResults=[];const citations=unorderedSummary.match(/\\[\\d+\\]/g)||[];const addedCitations=new Set();for(let i=0;i<citations.length;i++){const citation=citations[i];// Ignore citations that have already been added.\nif(addedCitations.has(citation))continue;// Extract index from [INDEX] format.\nconst citationIndex=Number(citation.slice(1,citation.length-1))-1;// Ignore citations that are out of range of the search results.\nif(citationIndex<0||citationIndex>=searchResults.length)continue;orderedSearchResults.push(searchResults[citationIndex]);addedCitations.add(citation);}return orderedSearchResults;};","map":{"version":3,"names":["applyCitationOrder","searchResults","unorderedSummary","orderedSearchResults","citations","match","addedCitations","Set","i","length","citation","has","citationIndex","Number","slice","push","add"],"sources":["/Users/syedali/POC/Create UI Threadneedle/columbia-threadneedle-demo/src/ui/utils/citations/applyCitationOrder.ts"],"sourcesContent":["export const applyCitationOrder = (searchResults: any[], unorderedSummary: string) => {\n  const orderedSearchResults: any[] = [];\n  const citations = unorderedSummary.match(/\\[\\d+\\]/g) || [];\n  const addedCitations = new Set<string>();\n\n  for (let i = 0; i < citations.length; i++) {\n    const citation = citations[i];\n\n    // Ignore citations that have already been added.\n    if (addedCitations.has(citation)) continue;\n\n    // Extract index from [INDEX] format.\n    const citationIndex = Number(citation.slice(1, citation.length - 1)) - 1;\n\n    // Ignore citations that are out of range of the search results.\n    if (citationIndex < 0 || citationIndex >= searchResults.length) continue;\n\n    orderedSearchResults.push(searchResults[citationIndex]);\n    addedCitations.add(citation);\n  }\n\n  return orderedSearchResults;\n};\n"],"mappings":"AAAA,MAAO,MAAM,CAAAA,kBAAkB,CAAGA,CAACC,aAAoB,CAAEC,gBAAwB,GAAK,CACpF,KAAM,CAAAC,oBAA2B,CAAG,EAAE,CACtC,KAAM,CAAAC,SAAS,CAAGF,gBAAgB,CAACG,KAAK,CAAC,UAAU,CAAC,EAAI,EAAE,CAC1D,KAAM,CAAAC,cAAc,CAAG,GAAI,CAAAC,GAAG,CAAS,CAAC,CAExC,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGJ,SAAS,CAACK,MAAM,CAAED,CAAC,EAAE,CAAE,CACzC,KAAM,CAAAE,QAAQ,CAAGN,SAAS,CAACI,CAAC,CAAC,CAE7B;AACA,GAAIF,cAAc,CAACK,GAAG,CAACD,QAAQ,CAAC,CAAE,SAElC;AACA,KAAM,CAAAE,aAAa,CAAGC,MAAM,CAACH,QAAQ,CAACI,KAAK,CAAC,CAAC,CAAEJ,QAAQ,CAACD,MAAM,CAAG,CAAC,CAAC,CAAC,CAAG,CAAC,CAExE;AACA,GAAIG,aAAa,CAAG,CAAC,EAAIA,aAAa,EAAIX,aAAa,CAACQ,MAAM,CAAE,SAEhEN,oBAAoB,CAACY,IAAI,CAACd,aAAa,CAACW,aAAa,CAAC,CAAC,CACvDN,cAAc,CAACU,GAAG,CAACN,QAAQ,CAAC,CAC9B,CAEA,MAAO,CAAAP,oBAAoB,CAC7B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}