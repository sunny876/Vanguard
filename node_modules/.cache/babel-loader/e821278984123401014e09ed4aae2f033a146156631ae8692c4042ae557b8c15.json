{"ast":null,"code":"import{useEffect,useState}from\"react\";import{VuiOptionsButton}from\"../optionsButton/OptionsButton\";import{VuiIcon}from\"../icon/Icon\";import{BiCheck,BiClipboard}from\"react-icons/bi\";import{VuiButtonSecondary}from\"../button/ButtonSecondary\";import{jsx as _jsx}from\"react/jsx-runtime\";const sizeToIconSizeMap={xs:\"s\",s:\"s\",m:\"m\",l:\"m\",xl:\"m\"};export const VuiCopyButton=_ref=>{let{value,options,label,size=\"s\",...rest}=_ref;const[isOpen,setIsOpen]=useState(false);const[isCopied,setIsCopied]=useState(false);useEffect(()=>{if(isCopied){const timeout=setTimeout(()=>{setIsCopied(false);},2400);return()=>clearTimeout(timeout);}},[isCopied]);const icon=isCopied?/*#__PURE__*/_jsx(VuiIcon,{size:sizeToIconSizeMap[size],color:\"success\",children:/*#__PURE__*/_jsx(BiCheck,{})}):/*#__PURE__*/_jsx(VuiIcon,{size:sizeToIconSizeMap[size],children:/*#__PURE__*/_jsx(BiClipboard,{})});const copy=function(){let copyValue=arguments.length>0&&arguments[0]!==undefined?arguments[0]:value;navigator.clipboard.writeText(copyValue);setIsCopied(true);};return options?/*#__PURE__*/_jsx(VuiOptionsButton,{type:\"secondary\",icon:icon,isOpen:isOpen,setIsOpen:setIsOpen,color:\"neutral\",size:size,onClick:()=>{copy();},onSelectOption:value=>{copy(value);setIsOpen(false);},options:options,...rest,children:label}):/*#__PURE__*/_jsx(VuiButtonSecondary,{size:size,icon:icon,color:\"neutral\",onClick:()=>{copy(value);},...rest,children:label});};","map":{"version":3,"names":["useEffect","useState","VuiOptionsButton","VuiIcon","BiCheck","BiClipboard","VuiButtonSecondary","jsx","_jsx","sizeToIconSizeMap","xs","s","m","l","xl","VuiCopyButton","_ref","value","options","label","size","rest","isOpen","setIsOpen","isCopied","setIsCopied","timeout","setTimeout","clearTimeout","icon","color","children","copy","copyValue","arguments","length","undefined","navigator","clipboard","writeText","type","onClick","onSelectOption"],"sources":["/Users/syedali/POC/Create UI Threadneedle/columbia-threadneedle-demo/src/ui/components/copyButton/CopyButton.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { VuiOptionsButton } from \"../optionsButton/OptionsButton\";\nimport { Props as OptionsButtonProps } from \"../optionsButton/OptionsButton\";\nimport { VuiIcon } from \"../icon/Icon\";\nimport { BiCheck, BiClipboard } from \"react-icons/bi\";\nimport { VuiButtonSecondary } from \"../button/ButtonSecondary\";\n\ntype Props = {\n  value: string;\n  options?: OptionsButtonProps[\"options\"];\n  size: OptionsButtonProps[\"size\"];\n  label?: string;\n  title?: string;\n};\n\nconst sizeToIconSizeMap = {\n  xs: \"s\",\n  s: \"s\",\n  m: \"m\",\n  l: \"m\",\n  xl: \"m\"\n} as const;\n\nexport const VuiCopyButton = ({ value, options, label, size = \"s\", ...rest }: Props) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isCopied, setIsCopied] = useState(false);\n\n  useEffect(() => {\n    if (isCopied) {\n      const timeout = setTimeout(() => {\n        setIsCopied(false);\n      }, 2400);\n\n      return () => clearTimeout(timeout);\n    }\n  }, [isCopied]);\n\n  const icon = isCopied ? (\n    <VuiIcon size={sizeToIconSizeMap[size]} color=\"success\">\n      <BiCheck />\n    </VuiIcon>\n  ) : (\n    <VuiIcon size={sizeToIconSizeMap[size]}>\n      <BiClipboard />\n    </VuiIcon>\n  );\n\n  const copy = (copyValue = value) => {\n    navigator.clipboard.writeText(copyValue);\n    setIsCopied(true);\n  };\n\n  return options ? (\n    <VuiOptionsButton\n      type=\"secondary\"\n      icon={icon}\n      isOpen={isOpen}\n      setIsOpen={setIsOpen}\n      color=\"neutral\"\n      size={size}\n      onClick={() => {\n        copy();\n      }}\n      onSelectOption={(value) => {\n        copy(value);\n        setIsOpen(false);\n      }}\n      options={options}\n      {...rest}\n    >\n      {label}\n    </VuiOptionsButton>\n  ) : (\n    <VuiButtonSecondary\n      size={size}\n      icon={icon}\n      color=\"neutral\"\n      onClick={() => {\n        copy(value);\n      }}\n      {...rest}\n    >\n      {label}\n    </VuiButtonSecondary>\n  );\n};\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,gBAAgB,KAAQ,gCAAgC,CAEjE,OAASC,OAAO,KAAQ,cAAc,CACtC,OAASC,OAAO,CAAEC,WAAW,KAAQ,gBAAgB,CACrD,OAASC,kBAAkB,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAU/D,KAAM,CAAAC,iBAAiB,CAAG,CACxBC,EAAE,CAAE,GAAG,CACPC,CAAC,CAAE,GAAG,CACNC,CAAC,CAAE,GAAG,CACNC,CAAC,CAAE,GAAG,CACNC,EAAE,CAAE,GACN,CAAU,CAEV,MAAO,MAAM,CAAAC,aAAa,CAAGC,IAAA,EAA2D,IAA1D,CAAEC,KAAK,CAAEC,OAAO,CAAEC,KAAK,CAAEC,IAAI,CAAG,GAAG,CAAE,GAAGC,IAAY,CAAC,CAAAL,IAAA,CACjF,KAAM,CAACM,MAAM,CAAEC,SAAS,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACuB,QAAQ,CAAEC,WAAW,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CAE/CD,SAAS,CAAC,IAAM,CACd,GAAIwB,QAAQ,CAAE,CACZ,KAAM,CAAAE,OAAO,CAAGC,UAAU,CAAC,IAAM,CAC/BF,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,IAAMG,YAAY,CAACF,OAAO,CAAC,CACpC,CACF,CAAC,CAAE,CAACF,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAK,IAAI,CAAGL,QAAQ,cACnBhB,IAAA,CAACL,OAAO,EAACiB,IAAI,CAAEX,iBAAiB,CAACW,IAAI,CAAE,CAACU,KAAK,CAAC,SAAS,CAAAC,QAAA,cACrDvB,IAAA,CAACJ,OAAO,GAAE,CAAC,CACJ,CAAC,cAEVI,IAAA,CAACL,OAAO,EAACiB,IAAI,CAAEX,iBAAiB,CAACW,IAAI,CAAE,CAAAW,QAAA,cACrCvB,IAAA,CAACH,WAAW,GAAE,CAAC,CACR,CACV,CAED,KAAM,CAAA2B,IAAI,CAAG,QAAAA,CAAA,CAAuB,IAAtB,CAAAC,SAAS,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGjB,KAAK,CAC7BoB,SAAS,CAACC,SAAS,CAACC,SAAS,CAACN,SAAS,CAAC,CACxCR,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAED,MAAO,CAAAP,OAAO,cACZV,IAAA,CAACN,gBAAgB,EACfsC,IAAI,CAAC,WAAW,CAChBX,IAAI,CAAEA,IAAK,CACXP,MAAM,CAAEA,MAAO,CACfC,SAAS,CAAEA,SAAU,CACrBO,KAAK,CAAC,SAAS,CACfV,IAAI,CAAEA,IAAK,CACXqB,OAAO,CAAEA,CAAA,GAAM,CACbT,IAAI,CAAC,CAAC,CACR,CAAE,CACFU,cAAc,CAAGzB,KAAK,EAAK,CACzBe,IAAI,CAACf,KAAK,CAAC,CACXM,SAAS,CAAC,KAAK,CAAC,CAClB,CAAE,CACFL,OAAO,CAAEA,OAAQ,IACbG,IAAI,CAAAU,QAAA,CAEPZ,KAAK,CACU,CAAC,cAEnBX,IAAA,CAACF,kBAAkB,EACjBc,IAAI,CAAEA,IAAK,CACXS,IAAI,CAAEA,IAAK,CACXC,KAAK,CAAC,SAAS,CACfW,OAAO,CAAEA,CAAA,GAAM,CACbT,IAAI,CAACf,KAAK,CAAC,CACb,CAAE,IACEI,IAAI,CAAAU,QAAA,CAEPZ,KAAK,CACY,CACrB,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}