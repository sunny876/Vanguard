{"ast":null,"code":"var _jsxFileName = \"/Users/syedali/POC/Create UI Threadneedle/columbia-threadneedle-demo/src/ui/components/chat/Chat.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { BiChat, BiExpand, BiExpandVertical, BiPaperPlane, BiX } from \"react-icons/bi\";\nimport classNames from \"classnames\";\nimport { VuiFlexContainer } from \"../flex/FlexContainer\";\nimport { VuiFlexItem } from \"../flex/FlexItem\";\nimport { VuiIcon } from \"../icon/Icon\";\nimport { VuiIconButton } from \"../button/IconButton\";\nimport { VuiTextInput } from \"../form\";\nimport { CHAT_STYLE_ORDER } from \"./types\";\nimport { VuiButtonSecondary } from \"../button/ButtonSecondary\";\nimport { VuiChatInspector } from \"./ChatInspector\";\nimport { VuiSpacer } from \"../spacer/Spacer\";\nimport { VuiButtonTertiary } from \"../button/ButtonTertiary\";\nimport { VuiChatTurn } from \"./ChatTurn\";\nimport { VuiChatPanel } from \"./ChatPanel\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst chatStyleToIconMap = {\n  closed: /*#__PURE__*/_jsxDEV(BiX, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 11\n  }, this),\n  condensed: /*#__PURE__*/_jsxDEV(BiExpandVertical, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 14\n  }, this),\n  tall: /*#__PURE__*/_jsxDEV(BiExpand, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this),\n  fullScreen: /*#__PURE__*/_jsxDEV(BiX, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 15\n  }, this)\n};\nexport const VuiChat = ({\n  openPrompt,\n  chatStyle,\n  setChatStyle,\n  introduction,\n  suggestions,\n  onInput,\n  onRetry,\n  onReset,\n  conversation,\n  settings,\n  isInspectionEnabled\n}) => {\n  _s();\n  const [isTouched, setIsTouched] = useState(false);\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [input, setInput] = useState(\"\");\n  const [inspectedTurn, setInspectedTurn] = useState();\n  const buttonRef = useRef(null);\n  const conversationRef = useRef(null);\n  const inputRef = useRef(null);\n  const isScrolledToBottomRef = useRef(true);\n  const prevConversationRef = useRef({\n    isBottomQuestionLoading: true,\n    length: 0\n  });\n  const isOpen = chatStyle !== \"closed\";\n  useEffect(() => {\n    var _conversationRef$curr;\n    const onScrollChat = e => {\n      isScrolledToBottomRef.current = conversationRef.current ? Math.abs(conversationRef.current.scrollHeight - conversationRef.current.clientHeight - conversationRef.current.scrollTop) < 1 : true;\n    };\n\n    // We're going to track the scroll position, which will determine\n    // or not the user is at the bottom of the chat.\n    (_conversationRef$curr = conversationRef.current) === null || _conversationRef$curr === void 0 ? void 0 : _conversationRef$curr.addEventListener(\"scroll\", onScrollChat);\n    return () => {\n      var _conversationRef$curr2;\n      (_conversationRef$curr2 = conversationRef.current) === null || _conversationRef$curr2 === void 0 ? void 0 : _conversationRef$curr2.removeEventListener(\"scroll\", onScrollChat);\n    };\n  }, []);\n  useEffect(() => {\n    var _conversation;\n    // Scrolling UX rules:\n    // * Scroll down if the last recorded scroll position was already\n    //   at the bottom of the list and if the last question has resolved\n    //   to an answer.\n    // * If the user has scrolled to another position, then don’t\n    //   auto-scroll.\n    // * If the question that has resolved is not the last question,\n    //   don’t auto-scroll.\n    //\n    // This way if the user takes control of the scroll position, they\n    // remain in control. If the user hasn’t taken control of the scroll\n    // position, then the scroll feels stable (by staying at the\n    // bottom) as opposed to scrolling unpredictably through the list\n    // as questions resolve.\n\n    const hasBottomQuestionJustChanged =\n    // A new question has been added to the bottom of the list.\n    prevConversationRef.current.length !== conversation.length ||\n    // The last question has just resolved to an answer.\n    prevConversationRef.current.isBottomQuestionLoading !== Boolean((_conversation = conversation[conversation.length - 1]) === null || _conversation === void 0 ? void 0 : _conversation.isLoading);\n\n    // If the intro is really long, the chat can be in a state where\n    // the user is at the top of the chat and their first question is\n    // off-screen. In this case, we want to scroll to the bottom.\n    const shouldStickToBottom = conversation.length === 1 || isScrolledToBottomRef.current && hasBottomQuestionJustChanged;\n    if (isOpen && shouldStickToBottom) {\n      var _conversationRef$curr3, _conversationRef$curr4;\n      // Scroll to the bottom of the chat to keep the latest turn in view.\n      (_conversationRef$curr3 = conversationRef.current) === null || _conversationRef$curr3 === void 0 ? void 0 : _conversationRef$curr3.scrollTo({\n        left: 0,\n        top: (_conversationRef$curr4 = conversationRef.current) === null || _conversationRef$curr4 === void 0 ? void 0 : _conversationRef$curr4.scrollHeight,\n        behavior: \"smooth\"\n      });\n    }\n    prevConversationRef.current = {\n      length: conversation.length,\n      isBottomQuestionLoading: conversation.length > 0 ? Boolean(conversation[conversation.length - 1].isLoading) : false\n    };\n  }, [conversation]);\n  useEffect(() => {\n    // Only autofocus if the user has interacted with the component.\n    // This prevents the component stealing focus when it first mounts.\n    if (isTouched) {\n      if (isOpen) {\n        var _inputRef$current;\n        (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n      } else {\n        var _buttonRef$current;\n        (_buttonRef$current = buttonRef.current) === null || _buttonRef$current === void 0 ? void 0 : _buttonRef$current.focus();\n      }\n    }\n  }, [isOpen]);\n  const onSubmit = () => {\n    if (!(input !== null && input !== void 0 && input.trim())) return;\n    onInput(input);\n    setInput(\"\");\n  };\n  const cycleChatStyle = () => {\n    setIsTouched(true);\n    const currentIndex = CHAT_STYLE_ORDER.indexOf(chatStyle);\n    setChatStyle(currentIndex === CHAT_STYLE_ORDER.length - 1 ? CHAT_STYLE_ORDER[0] : CHAT_STYLE_ORDER[currentIndex + 1]);\n  };\n  const buttonClasses = classNames(\"vuiChatButton\", {\n    \"vuiChatButton-isHidden\": isOpen\n  });\n  const classes = classNames(\"vuiChat\", `vuiChat--${chatStyle}`);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      // @ts-expect-error React doesn't support inert yet\n      inert: isOpen ? \"\" : null,\n      className: buttonClasses,\n      onClick: () => setChatStyle(\"condensed\"),\n      ref: buttonRef,\n      children: /*#__PURE__*/_jsxDEV(VuiFlexContainer, {\n        alignItems: \"center\",\n        spacing: \"s\",\n        children: [/*#__PURE__*/_jsxDEV(VuiFlexItem, {\n          shrink: false,\n          grow: false,\n          children: /*#__PURE__*/_jsxDEV(VuiIcon, {\n            size: \"s\",\n            children: /*#__PURE__*/_jsxDEV(BiChat, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(VuiFlexItem, {\n          grow: 1,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"vuiChatButton__prompt\",\n            children: openPrompt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      // @ts-expect-error React doesn't support inert yet\n      inert: !isOpen ? \"\" : null,\n      className: classes,\n      onKeyDown: e => {\n        if (e.key === \"Escape\") setChatStyle(\"closed\");\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vuiChat__header\",\n        children: /*#__PURE__*/_jsxDEV(VuiFlexContainer, {\n          alignItems: \"center\",\n          justifyContent: \"spaceBetween\",\n          children: [/*#__PURE__*/_jsxDEV(VuiFlexItem, {\n            grow: 1,\n            children: /*#__PURE__*/_jsxDEV(VuiFlexContainer, {\n              alignItems: \"center\",\n              spacing: \"s\",\n              children: [/*#__PURE__*/_jsxDEV(VuiFlexItem, {\n                shrink: false,\n                grow: false,\n                children: /*#__PURE__*/_jsxDEV(VuiIcon, {\n                  size: \"s\",\n                  children: /*#__PURE__*/_jsxDEV(BiChat, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(VuiFlexItem, {\n                grow: 1,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"vuiChatButton__prompt\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: openPrompt\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), settings && /*#__PURE__*/_jsxDEV(VuiFlexItem, {\n            shrink: false,\n            grow: false,\n            children: /*#__PURE__*/_jsxDEV(VuiButtonSecondary, {\n              color: \"neutral\",\n              size: \"xs\",\n              onClick: () => setIsSettingsOpen(true),\n              children: \"Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vuiChat__conversation\",\n        ref: conversationRef,\n        children: [(introduction || suggestions) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vuiChat__introduction\",\n          children: [introduction, introduction && /*#__PURE__*/_jsxDEV(VuiSpacer, {\n            size: \"s\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 32\n          }, this), suggestions === null || suggestions === void 0 ? void 0 : suggestions.map(suggestion => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(VuiButtonTertiary, {\n              size: \"s\",\n              color: \"primary\",\n              onClick: () => onInput(suggestion),\n              noPadding: true,\n              children: suggestion\n            }, suggestion, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this)), suggestions && suggestions.length > 0 && /*#__PURE__*/_jsxDEV(VuiSpacer, {\n            size: \"s\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 57\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), conversation.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vuiChat__turns\",\n          children: conversation.map((turn, index) => /*#__PURE__*/_jsxDEV(VuiChatTurn, {\n            turn: turn,\n            isInspectionEnabled: isInspectionEnabled,\n            setInspectedTurn: setInspectedTurn,\n            onRetry: onRetry\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this), conversation.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vuiChat__conversationActions\",\n          children: /*#__PURE__*/_jsxDEV(VuiFlexContainer, {\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            children: /*#__PURE__*/_jsxDEV(VuiFlexItem, {\n              children: /*#__PURE__*/_jsxDEV(VuiButtonSecondary, {\n                color: \"neutral\",\n                size: \"xs\",\n                onClick: onReset,\n                children: \"Start over\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vuiChat__input\",\n        children: /*#__PURE__*/_jsxDEV(VuiFlexContainer, {\n          alignItems: \"center\",\n          spacing: \"xxs\",\n          children: [/*#__PURE__*/_jsxDEV(VuiFlexItem, {\n            grow: 1,\n            children: /*#__PURE__*/_jsxDEV(VuiTextInput, {\n              value: input,\n              onChange: e => {\n                setInput(e.currentTarget.value);\n              },\n              onSubmit: onSubmit,\n              fullWidth: true,\n              ref: inputRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(VuiFlexItem, {\n            shrink: false,\n            grow: false,\n            children: /*#__PURE__*/_jsxDEV(VuiIconButton, {\n              icon: /*#__PURE__*/_jsxDEV(VuiIcon, {\n                children: /*#__PURE__*/_jsxDEV(BiPaperPlane, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this),\n              color: \"primary\",\n              onClick: onSubmit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(VuiFlexItem, {\n            shrink: false,\n            grow: false,\n            children: /*#__PURE__*/_jsxDEV(VuiIconButton, {\n              icon: /*#__PURE__*/_jsxDEV(VuiIcon, {\n                children: chatStyleToIconMap[chatStyle]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 23\n              }, this),\n              color: \"neutral\",\n              onClick: cycleChatStyle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), isSettingsOpen && /*#__PURE__*/_jsxDEV(VuiChatPanel, {\n        title: \"Chat settings\",\n        onClose: () => setIsSettingsOpen(false),\n        children: settings\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }, this), Boolean(inspectedTurn) && /*#__PURE__*/_jsxDEV(VuiChatInspector, {\n        turn: inspectedTurn,\n        onClose: () => setInspectedTurn(undefined)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(VuiChat, \"wHEAvwUQNT9zbQi08Nmi37a7sJ8=\");\n_c = VuiChat;\nvar _c;\n$RefreshReg$(_c, \"VuiChat\");","map":{"version":3,"names":["React","useEffect","useRef","useState","BiChat","BiExpand","BiExpandVertical","BiPaperPlane","BiX","classNames","VuiFlexContainer","VuiFlexItem","VuiIcon","VuiIconButton","VuiTextInput","CHAT_STYLE_ORDER","VuiButtonSecondary","VuiChatInspector","VuiSpacer","VuiButtonTertiary","VuiChatTurn","VuiChatPanel","jsxDEV","_jsxDEV","Fragment","_Fragment","chatStyleToIconMap","closed","fileName","_jsxFileName","lineNumber","columnNumber","condensed","tall","fullScreen","VuiChat","openPrompt","chatStyle","setChatStyle","introduction","suggestions","onInput","onRetry","onReset","conversation","settings","isInspectionEnabled","_s","isTouched","setIsTouched","isSettingsOpen","setIsSettingsOpen","input","setInput","inspectedTurn","setInspectedTurn","buttonRef","conversationRef","inputRef","isScrolledToBottomRef","prevConversationRef","isBottomQuestionLoading","length","isOpen","_conversationRef$curr","onScrollChat","e","current","Math","abs","scrollHeight","clientHeight","scrollTop","addEventListener","_conversationRef$curr2","removeEventListener","_conversation","hasBottomQuestionJustChanged","Boolean","isLoading","shouldStickToBottom","_conversationRef$curr3","_conversationRef$curr4","scrollTo","left","top","behavior","_inputRef$current","focus","_buttonRef$current","onSubmit","trim","cycleChatStyle","currentIndex","indexOf","buttonClasses","classes","children","inert","className","onClick","ref","alignItems","spacing","shrink","grow","size","onKeyDown","key","justifyContent","color","map","suggestion","noPadding","turn","index","value","onChange","currentTarget","fullWidth","icon","title","onClose","undefined","_c","$RefreshReg$"],"sources":["/Users/syedali/POC/Create UI Threadneedle/columbia-threadneedle-demo/src/ui/components/chat/Chat.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { BiChat, BiExpand, BiExpandVertical, BiPaperPlane, BiX } from \"react-icons/bi\";\nimport classNames from \"classnames\";\nimport { VuiFlexContainer } from \"../flex/FlexContainer\";\nimport { VuiFlexItem } from \"../flex/FlexItem\";\nimport { VuiIcon } from \"../icon/Icon\";\nimport { VuiIconButton } from \"../button/IconButton\";\nimport { VuiTextInput } from \"../form\";\nimport { ChatStyle, ChatTurn, CHAT_STYLE_ORDER } from \"./types\";\nimport { VuiButtonSecondary } from \"../button/ButtonSecondary\";\nimport { VuiChatInspector } from \"./ChatInspector\";\nimport { VuiSpacer } from \"../spacer/Spacer\";\nimport { VuiButtonTertiary } from \"../button/ButtonTertiary\";\nimport { VuiChatTurn } from \"./ChatTurn\";\nimport { VuiChatPanel } from \"./ChatPanel\";\n\ntype Props = {\n  openPrompt: string;\n  chatStyle: ChatStyle;\n  setChatStyle: (chatStyle: ChatStyle) => void;\n  introduction?: string;\n  suggestions?: string[];\n  onInput: (input: string) => void;\n  onRetry: (trun: ChatTurn) => void;\n  onReset: () => void;\n  conversation: ChatTurn[];\n  settings?: React.ReactNode;\n  isInspectionEnabled?: boolean;\n};\n\nconst chatStyleToIconMap = {\n  closed: <BiX />,\n  condensed: <BiExpandVertical />,\n  tall: <BiExpand />,\n  fullScreen: <BiX />\n} as const;\n\nexport const VuiChat = ({\n  openPrompt,\n  chatStyle,\n  setChatStyle,\n  introduction,\n  suggestions,\n  onInput,\n  onRetry,\n  onReset,\n  conversation,\n  settings,\n  isInspectionEnabled\n}: Props) => {\n  const [isTouched, setIsTouched] = useState(false);\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [input, setInput] = useState(\"\");\n  const [inspectedTurn, setInspectedTurn] = useState<ChatTurn>();\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const conversationRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const isScrolledToBottomRef = useRef(true);\n  const prevConversationRef = useRef({\n    isBottomQuestionLoading: true,\n    length: 0\n  });\n\n  const isOpen = chatStyle !== \"closed\";\n\n  useEffect(() => {\n    const onScrollChat = (e: Event) => {\n      isScrolledToBottomRef.current = conversationRef.current\n        ? Math.abs(\n            conversationRef.current.scrollHeight -\n              conversationRef.current.clientHeight -\n              conversationRef.current.scrollTop\n          ) < 1\n        : true;\n    };\n\n    // We're going to track the scroll position, which will determine\n    // or not the user is at the bottom of the chat.\n    conversationRef.current?.addEventListener(\"scroll\", onScrollChat);\n\n    return () => {\n      conversationRef.current?.removeEventListener(\"scroll\", onScrollChat);\n    };\n  }, []);\n\n  useEffect(() => {\n    // Scrolling UX rules:\n    // * Scroll down if the last recorded scroll position was already\n    //   at the bottom of the list and if the last question has resolved\n    //   to an answer.\n    // * If the user has scrolled to another position, then don’t\n    //   auto-scroll.\n    // * If the question that has resolved is not the last question,\n    //   don’t auto-scroll.\n    //\n    // This way if the user takes control of the scroll position, they\n    // remain in control. If the user hasn’t taken control of the scroll\n    // position, then the scroll feels stable (by staying at the\n    // bottom) as opposed to scrolling unpredictably through the list\n    // as questions resolve.\n\n    const hasBottomQuestionJustChanged =\n      // A new question has been added to the bottom of the list.\n      prevConversationRef.current.length !== conversation.length ||\n      // The last question has just resolved to an answer.\n      prevConversationRef.current.isBottomQuestionLoading !== Boolean(conversation[conversation.length - 1]?.isLoading);\n\n    // If the intro is really long, the chat can be in a state where\n    // the user is at the top of the chat and their first question is\n    // off-screen. In this case, we want to scroll to the bottom.\n    const shouldStickToBottom =\n      conversation.length === 1 || (isScrolledToBottomRef.current && hasBottomQuestionJustChanged);\n\n    if (isOpen && shouldStickToBottom) {\n      // Scroll to the bottom of the chat to keep the latest turn in view.\n      conversationRef.current?.scrollTo({\n        left: 0,\n        top: conversationRef.current?.scrollHeight,\n        behavior: \"smooth\"\n      });\n    }\n\n    prevConversationRef.current = {\n      length: conversation.length,\n      isBottomQuestionLoading:\n        conversation.length > 0 ? Boolean(conversation[conversation.length - 1].isLoading) : false\n    };\n  }, [conversation]);\n\n  useEffect(() => {\n    // Only autofocus if the user has interacted with the component.\n    // This prevents the component stealing focus when it first mounts.\n    if (isTouched) {\n      if (isOpen) {\n        inputRef.current?.focus();\n      } else {\n        buttonRef.current?.focus();\n      }\n    }\n  }, [isOpen]);\n\n  const onSubmit = () => {\n    if (!input?.trim()) return;\n    onInput(input);\n    setInput(\"\");\n  };\n\n  const cycleChatStyle = () => {\n    setIsTouched(true);\n    const currentIndex = CHAT_STYLE_ORDER.indexOf(chatStyle);\n    setChatStyle(\n      currentIndex === CHAT_STYLE_ORDER.length - 1 ? CHAT_STYLE_ORDER[0] : CHAT_STYLE_ORDER[currentIndex + 1]\n    );\n  };\n\n  const buttonClasses = classNames(\"vuiChatButton\", {\n    \"vuiChatButton-isHidden\": isOpen\n  });\n\n  const classes = classNames(\"vuiChat\", `vuiChat--${chatStyle}`);\n\n  return (\n    <>\n      <button\n        // @ts-expect-error React doesn't support inert yet\n        inert={isOpen ? \"\" : null}\n        className={buttonClasses}\n        onClick={() => setChatStyle(\"condensed\")}\n        ref={buttonRef}\n      >\n        <VuiFlexContainer alignItems=\"center\" spacing=\"s\">\n          <VuiFlexItem shrink={false} grow={false}>\n            <VuiIcon size=\"s\">\n              <BiChat />\n            </VuiIcon>\n          </VuiFlexItem>\n\n          <VuiFlexItem grow={1}>\n            <div className=\"vuiChatButton__prompt\">{openPrompt}</div>\n          </VuiFlexItem>\n        </VuiFlexContainer>\n      </button>\n\n      <div\n        // @ts-expect-error React doesn't support inert yet\n        inert={!isOpen ? \"\" : null}\n        className={classes}\n        onKeyDown={(e) => {\n          if (e.key === \"Escape\") setChatStyle(\"closed\");\n        }}\n      >\n        <div className=\"vuiChat__header\">\n          <VuiFlexContainer alignItems=\"center\" justifyContent=\"spaceBetween\">\n            <VuiFlexItem grow={1}>\n              <VuiFlexContainer alignItems=\"center\" spacing=\"s\">\n                <VuiFlexItem shrink={false} grow={false}>\n                  <VuiIcon size=\"s\">\n                    <BiChat />\n                  </VuiIcon>\n                </VuiFlexItem>\n\n                <VuiFlexItem grow={1}>\n                  <div className=\"vuiChatButton__prompt\">\n                    <h2>{openPrompt}</h2>\n                  </div>\n                </VuiFlexItem>\n              </VuiFlexContainer>\n            </VuiFlexItem>\n\n            {settings && (\n              <VuiFlexItem shrink={false} grow={false}>\n                <VuiButtonSecondary color=\"neutral\" size=\"xs\" onClick={() => setIsSettingsOpen(true)}>\n                  Settings\n                </VuiButtonSecondary>\n              </VuiFlexItem>\n            )}\n          </VuiFlexContainer>\n        </div>\n\n        <div className=\"vuiChat__conversation\" ref={conversationRef}>\n          {(introduction || suggestions) && (\n            <div className=\"vuiChat__introduction\">\n              {introduction}\n\n              {introduction && <VuiSpacer size=\"s\" />}\n\n              {suggestions?.map((suggestion) => (\n                <div>\n                  <VuiButtonTertiary\n                    size=\"s\"\n                    color=\"primary\"\n                    key={suggestion}\n                    onClick={() => onInput(suggestion)}\n                    noPadding\n                  >\n                    {suggestion}\n                  </VuiButtonTertiary>\n                </div>\n              ))}\n\n              {suggestions && suggestions.length > 0 && <VuiSpacer size=\"s\" />}\n            </div>\n          )}\n\n          {conversation.length > 0 && (\n            <div className=\"vuiChat__turns\">\n              {conversation.map((turn, index) => (\n                <VuiChatTurn\n                  turn={turn}\n                  isInspectionEnabled={isInspectionEnabled}\n                  setInspectedTurn={setInspectedTurn}\n                  onRetry={onRetry}\n                  key={index}\n                />\n              ))}\n            </div>\n          )}\n\n          {conversation.length > 0 && (\n            <div className=\"vuiChat__conversationActions\">\n              <VuiFlexContainer alignItems=\"center\" justifyContent=\"center\">\n                <VuiFlexItem>\n                  <VuiButtonSecondary color=\"neutral\" size=\"xs\" onClick={onReset}>\n                    Start over\n                  </VuiButtonSecondary>\n                </VuiFlexItem>\n              </VuiFlexContainer>\n            </div>\n          )}\n        </div>\n\n        <div className=\"vuiChat__input\">\n          <VuiFlexContainer alignItems=\"center\" spacing=\"xxs\">\n            <VuiFlexItem grow={1}>\n              <VuiTextInput\n                value={input}\n                onChange={(e) => {\n                  setInput(e.currentTarget.value);\n                }}\n                onSubmit={onSubmit}\n                fullWidth\n                ref={inputRef}\n              />\n            </VuiFlexItem>\n\n            <VuiFlexItem shrink={false} grow={false}>\n              <VuiIconButton\n                icon={\n                  <VuiIcon>\n                    <BiPaperPlane />\n                  </VuiIcon>\n                }\n                color=\"primary\"\n                onClick={onSubmit}\n              />\n            </VuiFlexItem>\n\n            <VuiFlexItem shrink={false} grow={false}>\n              <VuiIconButton\n                icon={<VuiIcon>{chatStyleToIconMap[chatStyle]}</VuiIcon>}\n                color=\"neutral\"\n                onClick={cycleChatStyle}\n              />\n            </VuiFlexItem>\n          </VuiFlexContainer>\n        </div>\n\n        {isSettingsOpen && (\n          <VuiChatPanel title=\"Chat settings\" onClose={() => setIsSettingsOpen(false)}>\n            {settings}\n          </VuiChatPanel>\n        )}\n\n        {Boolean(inspectedTurn) && (\n          <VuiChatInspector turn={inspectedTurn} onClose={() => setInspectedTurn(undefined)} />\n        )}\n      </div>\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}