{"ast":null,"code":"// eslint-disable-next-line\nconst HISTORY_KEY = `${location.hostname}:searchHistory`;\nexport const addHistoryItem = ({\n  query,\n  filter,\n  language\n}, history) => {\n  const date = new Intl.DateTimeFormat(\"en\", {\n    dateStyle: \"medium\",\n    timeStyle: \"medium\"\n  }).format(new Date());\n  const newHistoryItem = {\n    query,\n    filter,\n    language,\n    date\n  };\n  const newHistory = [newHistoryItem, ...history.filter(item => item.query !== query)];\n  persistHistory(newHistory);\n  return newHistory;\n};\nexport const deleteHistory = () => {\n  localStorage.removeItem(HISTORY_KEY);\n};\nexport const retrieveHistory = () => {\n  const serializedHistory = localStorage.getItem(HISTORY_KEY);\n  if (!serializedHistory) return [];\n  return JSON.parse(serializedHistory);\n};\nexport const persistHistory = history => {\n  const serializedHistory = JSON.stringify(history);\n  localStorage.setItem(HISTORY_KEY, serializedHistory);\n};","map":{"version":3,"names":["HISTORY_KEY","location","hostname","addHistoryItem","query","filter","language","history","date","Intl","DateTimeFormat","dateStyle","timeStyle","format","Date","newHistoryItem","newHistory","item","persistHistory","deleteHistory","localStorage","removeItem","retrieveHistory","serializedHistory","getItem","JSON","parse","stringify","setItem"],"sources":["/Users/syedali/POC/Create UI Threadneedle/columbia-threadneedle-demo/src/contexts/history.ts"],"sourcesContent":["import { SummaryLanguage } from \"../view/types\";\n\nexport type HistoryItem = {\n  query: string;\n  filter: string;\n  language: SummaryLanguage;\n  date: string;\n};\n\n// eslint-disable-next-line\nconst HISTORY_KEY = `${location.hostname}:searchHistory`;\n\nexport const addHistoryItem = (\n  { query, filter, language }: { query: string; filter: string; language: SummaryLanguage },\n  history: HistoryItem[]\n) => {\n  const date = new Intl.DateTimeFormat(\"en\", {\n    dateStyle: \"medium\",\n    timeStyle: \"medium\"\n  }).format(new Date());\n  const newHistoryItem = { query, filter, language, date };\n  const newHistory = [newHistoryItem, ...history.filter((item) => item.query !== query)];\n  persistHistory(newHistory);\n  return newHistory;\n};\n\nexport const deleteHistory = () => {\n  localStorage.removeItem(HISTORY_KEY);\n};\n\nexport const retrieveHistory = () => {\n  const serializedHistory = localStorage.getItem(HISTORY_KEY);\n  if (!serializedHistory) return [];\n  return JSON.parse(serializedHistory);\n};\n\nexport const persistHistory = (history: HistoryItem[]) => {\n  const serializedHistory = JSON.stringify(history);\n  localStorage.setItem(HISTORY_KEY, serializedHistory);\n};\n"],"mappings":"AASA;AACA,MAAMA,WAAW,GAAG,GAAGC,QAAQ,CAACC,QAAQ,gBAAgB;AAExD,OAAO,MAAMC,cAAc,GAAGA,CAC5B;EAAEC,KAAK;EAAEC,MAAM;EAAEC;AAAuE,CAAC,EACzFC,OAAsB,KACnB;EACH,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACC,cAAc,CAAC,IAAI,EAAE;IACzCC,SAAS,EAAE,QAAQ;IACnBC,SAAS,EAAE;EACb,CAAC,CAAC,CAACC,MAAM,CAAC,IAAIC,IAAI,CAAC,CAAC,CAAC;EACrB,MAAMC,cAAc,GAAG;IAAEX,KAAK;IAAEC,MAAM;IAAEC,QAAQ;IAAEE;EAAK,CAAC;EACxD,MAAMQ,UAAU,GAAG,CAACD,cAAc,EAAE,GAAGR,OAAO,CAACF,MAAM,CAAEY,IAAI,IAAKA,IAAI,CAACb,KAAK,KAAKA,KAAK,CAAC,CAAC;EACtFc,cAAc,CAACF,UAAU,CAAC;EAC1B,OAAOA,UAAU;AACnB,CAAC;AAED,OAAO,MAAMG,aAAa,GAAGA,CAAA,KAAM;EACjCC,YAAY,CAACC,UAAU,CAACrB,WAAW,CAAC;AACtC,CAAC;AAED,OAAO,MAAMsB,eAAe,GAAGA,CAAA,KAAM;EACnC,MAAMC,iBAAiB,GAAGH,YAAY,CAACI,OAAO,CAACxB,WAAW,CAAC;EAC3D,IAAI,CAACuB,iBAAiB,EAAE,OAAO,EAAE;EACjC,OAAOE,IAAI,CAACC,KAAK,CAACH,iBAAiB,CAAC;AACtC,CAAC;AAED,OAAO,MAAML,cAAc,GAAIX,OAAsB,IAAK;EACxD,MAAMgB,iBAAiB,GAAGE,IAAI,CAACE,SAAS,CAACpB,OAAO,CAAC;EACjDa,YAAY,CAACQ,OAAO,CAAC5B,WAAW,EAAEuB,iBAAiB,CAAC;AACtD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}