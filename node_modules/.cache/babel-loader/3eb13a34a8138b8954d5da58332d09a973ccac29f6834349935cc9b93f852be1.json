{"ast":null,"code":"// eslint-disable-next-line\nconst HISTORY_KEY=`${location.hostname}:searchHistory`;export const addHistoryItem=(_ref,history)=>{let{query,filter,language}=_ref;const date=new Intl.DateTimeFormat(\"en\",{dateStyle:\"medium\",timeStyle:\"medium\"}).format(new Date());const newHistoryItem={query,filter,language,date};const newHistory=[newHistoryItem,...history.filter(item=>item.query!==query)];persistHistory(newHistory);return newHistory;};export const deleteHistory=()=>{localStorage.removeItem(HISTORY_KEY);};export const retrieveHistory=()=>{const serializedHistory=localStorage.getItem(HISTORY_KEY);if(!serializedHistory)return[];return JSON.parse(serializedHistory);};export const persistHistory=history=>{const serializedHistory=JSON.stringify(history);localStorage.setItem(HISTORY_KEY,serializedHistory);};","map":{"version":3,"names":["HISTORY_KEY","location","hostname","addHistoryItem","_ref","history","query","filter","language","date","Intl","DateTimeFormat","dateStyle","timeStyle","format","Date","newHistoryItem","newHistory","item","persistHistory","deleteHistory","localStorage","removeItem","retrieveHistory","serializedHistory","getItem","JSON","parse","stringify","setItem"],"sources":["/Users/syedali/POC/Create UI Threadneedle/columbia-threadneedle-demo/src/contexts/history.ts"],"sourcesContent":["import { SummaryLanguage } from \"../view/types\";\n\nexport type HistoryItem = {\n  query: string;\n  filter: string;\n  language: SummaryLanguage;\n  date: string;\n};\n\n// eslint-disable-next-line\nconst HISTORY_KEY = `${location.hostname}:searchHistory`;\n\nexport const addHistoryItem = (\n  { query, filter, language }: { query: string; filter: string; language: SummaryLanguage },\n  history: HistoryItem[]\n) => {\n  const date = new Intl.DateTimeFormat(\"en\", {\n    dateStyle: \"medium\",\n    timeStyle: \"medium\"\n  }).format(new Date());\n  const newHistoryItem = { query, filter, language, date };\n  const newHistory = [newHistoryItem, ...history.filter((item) => item.query !== query)];\n  persistHistory(newHistory);\n  return newHistory;\n};\n\nexport const deleteHistory = () => {\n  localStorage.removeItem(HISTORY_KEY);\n};\n\nexport const retrieveHistory = () => {\n  const serializedHistory = localStorage.getItem(HISTORY_KEY);\n  if (!serializedHistory) return [];\n  return JSON.parse(serializedHistory);\n};\n\nexport const persistHistory = (history: HistoryItem[]) => {\n  const serializedHistory = JSON.stringify(history);\n  localStorage.setItem(HISTORY_KEY, serializedHistory);\n};\n"],"mappings":"AASA;AACA,KAAM,CAAAA,WAAW,CAAG,GAAGC,QAAQ,CAACC,QAAQ,gBAAgB,CAExD,MAAO,MAAM,CAAAC,cAAc,CAAGA,CAAAC,IAAA,CAE5BC,OAAsB,GACnB,IAFH,CAAEC,KAAK,CAAEC,MAAM,CAAEC,QAAuE,CAAC,CAAAJ,IAAA,CAGzF,KAAM,CAAAK,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACC,cAAc,CAAC,IAAI,CAAE,CACzCC,SAAS,CAAE,QAAQ,CACnBC,SAAS,CAAE,QACb,CAAC,CAAC,CAACC,MAAM,CAAC,GAAI,CAAAC,IAAI,CAAC,CAAC,CAAC,CACrB,KAAM,CAAAC,cAAc,CAAG,CAAEV,KAAK,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,IAAK,CAAC,CACxD,KAAM,CAAAQ,UAAU,CAAG,CAACD,cAAc,CAAE,GAAGX,OAAO,CAACE,MAAM,CAAEW,IAAI,EAAKA,IAAI,CAACZ,KAAK,GAAKA,KAAK,CAAC,CAAC,CACtFa,cAAc,CAACF,UAAU,CAAC,CAC1B,MAAO,CAAAA,UAAU,CACnB,CAAC,CAED,MAAO,MAAM,CAAAG,aAAa,CAAGA,CAAA,GAAM,CACjCC,YAAY,CAACC,UAAU,CAACtB,WAAW,CAAC,CACtC,CAAC,CAED,MAAO,MAAM,CAAAuB,eAAe,CAAGA,CAAA,GAAM,CACnC,KAAM,CAAAC,iBAAiB,CAAGH,YAAY,CAACI,OAAO,CAACzB,WAAW,CAAC,CAC3D,GAAI,CAACwB,iBAAiB,CAAE,MAAO,EAAE,CACjC,MAAO,CAAAE,IAAI,CAACC,KAAK,CAACH,iBAAiB,CAAC,CACtC,CAAC,CAED,MAAO,MAAM,CAAAL,cAAc,CAAId,OAAsB,EAAK,CACxD,KAAM,CAAAmB,iBAAiB,CAAGE,IAAI,CAACE,SAAS,CAACvB,OAAO,CAAC,CACjDgB,YAAY,CAACQ,OAAO,CAAC7B,WAAW,CAAEwB,iBAAiB,CAAC,CACtD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}