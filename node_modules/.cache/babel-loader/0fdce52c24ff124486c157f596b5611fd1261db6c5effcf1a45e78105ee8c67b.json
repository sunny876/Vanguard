{"ast":null,"code":"import{useEffect,useRef,useState}from\"react\";import classNames from\"classnames\";import{BiChevronLeft,BiChevronRight}from\"react-icons/bi\";import{VuiIconButton}from\"../../button/IconButton\";import{VuiIcon}from\"../../icon/Icon\";import{buildSections}from\"./AppSideNavSections\";import{buildTree}from\"./AppSideNavTree\";import{VuiFlexContainer}from\"../../flex/FlexContainer\";import{VuiFlexItem}from\"../../flex/FlexItem\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const buildSideNavItems=items=>{return isTree(items)?buildTree(items):buildSections(items);};// Type guard to determine if we have a Tree or Sections.\nconst isTree=items=>{return items.findIndex(item=>item.path)!==-1;};export const VuiAppSideNav=_ref=>{let{items=[],content}=_ref;const[isTouched,setIsTouched]=useState(false);const[isCollapsed,setIsCollapsed]=useState(false);const collapseButtonRef=useRef(null);const expandButtonRef=useRef(null);useEffect(()=>{// Prevent the button from being focused when it first renders.\nif(isTouched){if(isCollapsed){var _expandButtonRef$curr;(_expandButtonRef$curr=expandButtonRef.current)===null||_expandButtonRef$curr===void 0?void 0:_expandButtonRef$curr.focus();}else{var _collapseButtonRef$cu;(_collapseButtonRef$cu=collapseButtonRef.current)===null||_collapseButtonRef$cu===void 0?void 0:_collapseButtonRef$cu.focus();}}},[isTouched,isCollapsed]);const classes=classNames(\"vuiAppSideNav\",{\"vuiAppSideNav-isCollapsed\":isCollapsed});const contentClasses=classNames(\"vuiAppSideNavContent\",{\"vuiAppSideNavContent-isHidden\":isCollapsed});const navItems=buildSideNavItems(items);return/*#__PURE__*/_jsx(\"div\",{className:classes,children:/*#__PURE__*/_jsxs(\"div\",{className:\"vuiAppSideNav__inner\",children:[isCollapsed?/*#__PURE__*/_jsx(VuiIconButton,{ref:expandButtonRef,\"aria-label\":\"Expand nav\",onClick:()=>setIsCollapsed(false),className:\"vuiAppSideNavExpandButton\",color:\"neutral\",icon:/*#__PURE__*/_jsx(VuiIcon,{children:/*#__PURE__*/_jsx(BiChevronRight,{})})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{ref:collapseButtonRef,className:\"vuiAppSideNavCollapseButton\",onClick:()=>{setIsTouched(true);setIsCollapsed(true);},children:/*#__PURE__*/_jsxs(VuiFlexContainer,{alignItems:\"center\",spacing:\"xxs\",children:[/*#__PURE__*/_jsx(VuiFlexItem,{shrink:false,grow:false,children:/*#__PURE__*/_jsx(VuiIcon,{children:/*#__PURE__*/_jsx(BiChevronLeft,{})})}),/*#__PURE__*/_jsx(VuiFlexItem,{shrink:false,grow:false,children:\"Collapse nav\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:contentClasses,inert:isCollapsed?\"\":null,children:[navItems,content]})]})});};","map":{"version":3,"names":["useEffect","useRef","useState","classNames","BiChevronLeft","BiChevronRight","VuiIconButton","VuiIcon","buildSections","buildTree","VuiFlexContainer","VuiFlexItem","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","buildSideNavItems","items","isTree","findIndex","item","path","VuiAppSideNav","_ref","content","isTouched","setIsTouched","isCollapsed","setIsCollapsed","collapseButtonRef","expandButtonRef","_expandButtonRef$curr","current","focus","_collapseButtonRef$cu","classes","contentClasses","navItems","className","children","ref","onClick","color","icon","alignItems","spacing","shrink","grow","inert"],"sources":["/Users/syedali/POC/Create UI Threadneedle/columbia-threadneedle-demo/src/ui/components/app/appSideNav/AppSideNav.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { BiChevronLeft, BiChevronRight } from \"react-icons/bi\";\nimport { VuiIconButton } from \"../../button/IconButton\";\nimport { VuiIcon } from \"../../icon/Icon\";\nimport { buildSections } from \"./AppSideNavSections\";\nimport { buildTree } from \"./AppSideNavTree\";\nimport { Sections, Tree } from \"../types\";\nimport { VuiFlexContainer } from \"../../flex/FlexContainer\";\nimport { VuiFlexItem } from \"../../flex/FlexItem\";\n\nexport const buildSideNavItems = (items: Sections | Tree) => {\n  return isTree(items) ? buildTree(items) : buildSections(items);\n};\n\n// Type guard to determine if we have a Tree or Sections.\nconst isTree = (items: Tree | Sections): items is Tree => {\n  return (items as Tree).findIndex((item) => item.path) !== -1;\n};\n\nexport type Props = {\n  items?: Sections | Tree;\n  content?: React.ReactNode;\n};\n\nexport const VuiAppSideNav = ({ items = [], content }: Props) => {\n  const [isTouched, setIsTouched] = useState(false);\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const collapseButtonRef = useRef<HTMLButtonElement>(null);\n  const expandButtonRef = useRef<HTMLButtonElement>(null);\n\n  useEffect(() => {\n    // Prevent the button from being focused when it first renders.\n    if (isTouched) {\n      if (isCollapsed) {\n        expandButtonRef.current?.focus();\n      } else {\n        collapseButtonRef.current?.focus();\n      }\n    }\n  }, [isTouched, isCollapsed]);\n\n  const classes = classNames(\"vuiAppSideNav\", {\n    \"vuiAppSideNav-isCollapsed\": isCollapsed\n  });\n\n  const contentClasses = classNames(\"vuiAppSideNavContent\", {\n    \"vuiAppSideNavContent-isHidden\": isCollapsed\n  });\n\n  const navItems = buildSideNavItems(items);\n\n  return (\n    <div className={classes}>\n      <div className=\"vuiAppSideNav__inner\">\n        {isCollapsed ? (\n          <VuiIconButton\n            ref={expandButtonRef}\n            aria-label=\"Expand nav\"\n            onClick={() => setIsCollapsed(false)}\n            className=\"vuiAppSideNavExpandButton\"\n            color=\"neutral\"\n            icon={\n              <VuiIcon>\n                <BiChevronRight />\n              </VuiIcon>\n            }\n          />\n        ) : (\n          <>\n            <button\n              ref={collapseButtonRef}\n              className=\"vuiAppSideNavCollapseButton\"\n              onClick={() => {\n                setIsTouched(true);\n                setIsCollapsed(true);\n              }}\n            >\n              <VuiFlexContainer alignItems=\"center\" spacing=\"xxs\">\n                <VuiFlexItem shrink={false} grow={false}>\n                  <VuiIcon>\n                    <BiChevronLeft />\n                  </VuiIcon>\n                </VuiFlexItem>\n\n                <VuiFlexItem shrink={false} grow={false}>\n                  Collapse nav\n                </VuiFlexItem>\n              </VuiFlexContainer>\n            </button>\n          </>\n        )}\n\n        {/* @ts-expect-error React doesn't support inert yet */}\n        <div className={contentClasses} inert={isCollapsed ? \"\" : null}>\n          {navItems}\n          {content}\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}