{"ast":null,"code":"var _jsxFileName = \"/Users/syedali/POC/Create UI Threadneedle/columbia-threadneedle-demo/src/view/SummaryUx.tsx\",\n  _s = $RefreshSig$();\nimport { VuiSpacer, VuiTitle, VuiHorizontalRule, VuiSummary } from \"../ui\";\nimport { sanitizeCitations, reorderCitations, applyCitationOrder } from \"../ui/utils/citations\";\nimport { useSearchContext } from \"../contexts/SearchContext\";\nimport { SearchResultList } from \"./results/SearchResultList\";\nimport { ProgressReport } from \"./progressReport/ProgressReport\";\nimport { SummaryCitation } from \"./summary/SummaryCitation\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const SummaryUx = () => {\n  _s();\n  const {\n    isSearching,\n    searchResults,\n    isSummarizing,\n    summarizationResponse,\n    searchResultsRef,\n    selectedSearchResultPosition\n  } = useSearchContext();\n  const rawSummary = summarizationResponse;\n  const unorderedSummary = sanitizeCitations(rawSummary);\n  let summary = \"\";\n  let summarySearchResults = [];\n  if (unorderedSummary) {\n    summary = reorderCitations(unorderedSummary);\n    if (searchResults) {\n      summarySearchResults = applyCitationOrder(searchResults, unorderedSummary);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ProgressReport, {\n      isSearching: isSearching,\n      isSummarizing: isSummarizing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), summary && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(VuiSpacer, {\n        size: \"l\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(VuiTitle, {\n        size: \"xs\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(VuiSpacer, {\n        size: \"s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(VuiSummary, {\n        summary: summary,\n        SummaryCitation: SummaryCitation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(VuiSpacer, {\n        size: \"s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(VuiSpacer, {\n        size: \"l\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(VuiHorizontalRule, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(VuiSpacer, {\n        size: \"l\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), summarySearchResults.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(VuiTitle, {\n          size: \"xs\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"References\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(VuiSpacer, {\n          size: \"s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(SearchResultList, {\n          results: summarySearchResults,\n          selectedSearchResultPosition: selectedSearchResultPosition,\n          setSearchResultRef: (el, index) => searchResultsRef.current[index] = el\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n_s(SummaryUx, \"Wy7+nKm1A9wXTbiaoXBJijqCCWg=\", false, function () {\n  return [useSearchContext];\n});\n_c = SummaryUx;\nvar _c;\n$RefreshReg$(_c, \"SummaryUx\");","map":{"version":3,"names":["VuiSpacer","VuiTitle","VuiHorizontalRule","VuiSummary","sanitizeCitations","reorderCitations","applyCitationOrder","useSearchContext","SearchResultList","ProgressReport","SummaryCitation","jsxDEV","_jsxDEV","Fragment","_Fragment","SummaryUx","_s","isSearching","searchResults","isSummarizing","summarizationResponse","searchResultsRef","selectedSearchResultPosition","rawSummary","unorderedSummary","summary","summarySearchResults","children","fileName","_jsxFileName","lineNumber","columnNumber","size","style","display","alignItems","length","results","setSearchResultRef","el","index","current","_c","$RefreshReg$"],"sources":["/Users/syedali/POC/Create UI Threadneedle/columbia-threadneedle-demo/src/view/SummaryUx.tsx"],"sourcesContent":["import { VuiSpacer, VuiTitle, VuiHorizontalRule, VuiSummary } from \"../ui\";\nimport { sanitizeCitations, reorderCitations, applyCitationOrder } from \"../ui/utils/citations\";\nimport { useSearchContext } from \"../contexts/SearchContext\";\nimport { SearchResultList } from \"./results/SearchResultList\";\nimport { ProgressReport } from \"./progressReport/ProgressReport\";\nimport { SummaryCitation } from \"./summary/SummaryCitation\";\nimport { SearchResultWithSnippet } from \"./types\";\n\nexport const SummaryUx = () => {\n  const {\n    isSearching,\n    searchResults,\n    isSummarizing,\n    summarizationResponse,\n    searchResultsRef,\n    selectedSearchResultPosition\n  } = useSearchContext();\n\n  const rawSummary = summarizationResponse;\n  const unorderedSummary = sanitizeCitations(rawSummary);\n\n  let summary = \"\";\n  let summarySearchResults: SearchResultWithSnippet[] = [];\n\n  if (unorderedSummary) {\n    summary = reorderCitations(unorderedSummary);\n    if (searchResults) {\n      summarySearchResults = applyCitationOrder(searchResults, unorderedSummary);\n    }\n  }\n\n  return (\n    <>\n      <ProgressReport isSearching={isSearching} isSummarizing={isSummarizing} />\n\n      {summary && (\n        <>\n          <VuiSpacer size=\"l\" />\n\n          <VuiTitle size=\"xs\">\n            <h2 style={{ display: \"flex\", alignItems: \"center\" }}>\n              <strong>Summary</strong>\n            </h2>\n          </VuiTitle>\n\n          <VuiSpacer size=\"s\" />\n\n          <VuiSummary summary={summary} SummaryCitation={SummaryCitation} />\n\n          <VuiSpacer size=\"s\" />\n\n          <VuiSpacer size=\"l\" />\n          <VuiHorizontalRule />\n          <VuiSpacer size=\"l\" />\n\n          {summarySearchResults.length > 0 && (\n            <>\n              <VuiTitle size=\"xs\">\n                <h2>\n                  <strong>References</strong>\n                </h2>\n              </VuiTitle>\n\n              <VuiSpacer size=\"s\" />\n\n              <SearchResultList\n                results={summarySearchResults}\n                selectedSearchResultPosition={selectedSearchResultPosition}\n                setSearchResultRef={(el: HTMLDivElement | null, index: number) =>\n                  (searchResultsRef.current[index] = el)\n                }\n              />\n            </>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}